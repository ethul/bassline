(function(){var a,b,c;(function(){function g(a,b){if(a&&a.charAt(0)==="."&&b){b=b.split("/"),b=b.slice(0,b.length-1),a=b.concat(a.split("/"));var c,d;for(c=0;d=a[c];c++)if(d===".")a.splice(c,1),c-=1;else if(d==="..")if(c!==1||a[2]!==".."&&a[0]!=="..")c>0&&(a.splice(c-1,2),c-=2);else break;a=a.join("/")}return a}function h(a,b){return function(){return f.apply(null,e.call(arguments,0).concat([a,b]))}}function i(a){return function(b){return g(b,a)}}function j(a){return function(b){d[a]=b}}function k(a,b){var c,e,f=a.indexOf("!");return f!==-1?(c=g(a.slice(0,f),b),a=a.slice(f+1),e=d[c],e&&e.normalize?a=e.normalize(a,i(b)):a=g(a,b)):a=g(a,b),{f:c?c+"!"+a:a,n:a,p:e}}function l(a,b,c,e){var f=[],g,i,l,m,n,o;e||(e=a);if(typeof c=="function"){if(b)for(m=0;m<b.length;m++)o=k(b[m],e),l=o.f,l==="require"?f[m]=h(a):l==="exports"?(f[m]=d[a]={},g=!0):l==="module"?i=f[m]={id:a,uri:"",exports:d[a]}:l in d?f[m]=d[l]:o.p&&(o.p.load(o.n,h(e,!0),j(l),{}),f[m]=d[l]);n=c.apply(d[a],f),a&&(i&&i.exports!==undefined?d[a]=i.exports:g||(d[a]=n))}else a&&(d[a]=c)}var d={},e=[].slice,f;if(typeof c=="function")return;a=f=function(a,b,c,e){return typeof a=="string"?d[k(a,b).f]:(a.splice||(b.splice?(a=b,b=arguments[2]):a=[]),e?l(null,a,b,c):setTimeout(function(){l(null,a,b,c)},15),f)},f.config=function(){return f},b||(b=f),c=function(a,b,c){b.splice||(c=b,b=[]),l(a,b,c)},c.amd={}})(),c("../tools/almond",function(){}),c("bass",[],function(){var a;a=function(a){return 1>a.length?[]:Array.prototype.slice.call(a,0)};var b,c;return b=function(a,b,c){for(var d in a)b.prototype[d]=a[d];for(var d in c)b.prototype[d]=c[d]},c=function(b,c){var d;return c==null&&(c=this),d=function(){var e=a(arguments);return e.length<b.length?function(){return d.apply(c,e.concat(a(arguments)))}:b.apply(c,e)}},{instance:b,curry:c}}),c("either",[],function(){var a,b;return a=function(b){if(this instanceof a)this.get=b;else return new a(b)},b=function(a){if(this instanceof b)this.get=a;else return new b(a)},{left:a,right:b}}),c("maybe",[],function(){var a,b;return a=function(){if(!(this instanceof a))return new a},b=function(a){if(this instanceof b)this.get=a;else return new b(a)},{nothing:a,just:b}}),c("plus",[],function(){var a;return a=function(b){if(this instanceof a)this.get=b;else return new a(b)},{plus:a}}),c("trampoline",[],function(){var a,b,c,d;return a={run:function(){var a=this,b=[],c=null;while(c===null)x=a.go(b),a=x.c,b=x.s,c=x.r;return c}},b=function(a){if(this instanceof b)this.a=a,this.go=function(a){var b,c,d;return a.length?(b=a.shift()(this.a),c=a,d=null):(b=this,c=a,d=this.a),{c:b,s:c,r:d}};else return new b(a)},c=function(a){if(this instanceof c)this.a=a,this.go=function(a){return{c:this.a(),s:a,r:null}};else return new c(a)},d=function(a,b){if(this instanceof d)this.a=a,this.f=b,this.go=function(a){return a.unshift(this.f),{c:this.a,s:a,r:null}};else return new d(a,b)},b.prototype=a,c.prototype=a,d.prototype=a,{done:b,more:c,cont:d}}),c("wlist",[],function(){var a;return a=function(b){if(this instanceof a)this.get=b;else return new a(b)},a.prototype=Array,{wlist:a}}),c("wstring",[],function(){var a;return a=function(b){if(this instanceof a)this.get=b;else return new a(b)},a.prototype=String,{wstring:a}}),c("folder",["bass","maybe","either"],function(a,b,c){var d=a.instance,e=a.curry,f={};d(f,b.nothing,{fold:function(a,b){return e(a)()}}),d(f,b.just,{fold:function(a,b){return e(b)(this.get)}}),d(f,c.left,{fold:function(a,b){return e(a)(this.get)}}),d(f,c.right,{fold:function(a,b){return e(b)(this.get)}})}),c("functor",["bass","maybe","either","trampoline"],function(a,b,c,d){var e=a.instance,f=a.curry,g={};e(g,b.nothing,{fmap:function(a){return b.nothing()}}),e(g,b.just,{fmap:function(a){return b.just(f(a)(this.get))}}),e(g,c.left,{fmap:function(a){return c.left(this.get)}}),e(g,c.right,{fmap:function(a){return c.right(f(a)(this.get))}}),e(g,d.done,{fmap:function(a){return this.bind(function(b){return d.more(function(){return d.done(a(b))})})}})}),c("applicative",["bass","maybe","either","functor","folder"],function(a,b,c,d,e){var f=a.instance,g=a.curry,h={$:function(a,b){return b.fmap(a)}};return b.pure=b.just,c.pure=c.right,f(h,b.nothing,{ap:function(a){return b.nothing()}}),f(h,b.just,{ap:function(a){return a.fmap(this.get)}}),f(h,c.left,{ap:function(a){var b=this;return a.fold(function(a){return c.left("mappend"in b.get?b.get.mappend(a):b.get)},function(a){return c.left(b.get)})}}),f(h,c.right,{ap:function(a){return a.fmap(this.get)}}),{$:h.$}}),c("monad",["bass","maybe","either","trampoline"],function(a,b,c,d){var e=a.instance,f=a.curry,g={">>=":function(a){return this.bind(a)}};return b.return=b.just,c.return=c.right,e(g,b.nothing,{bind:function(a){return b.nothing()}}),e(g,b.just,{bind:function(a){return f(a)(this.get)}}),e(g,c.left,{bind:function(a){return c.left(this.get)}}),e(g,c.right,{bind:function(a){return f(a)(this.get)}}),e(g,d.done,{bind:function(a){return d.cont(this,a)}}),{">>=":g[">>="]}}),c("monoid",["bass","plus","wstring","wlist"],function(a,b,c,d){var e=a.instance,f=a.curry,g={};e(g,b.plus,{mempty:0,mappend:function(a){return b.plus(this.get+a.get)}}),e(g,c.wstring,{mempty:"",mappend:function(a){return c.wstring(this.get+a.get)}}),e(g,d.wlist,{mempty:[],mappend:function(a){return d.wlist(this.get.concat(a.get))}})}),b(["bass","either","maybe","plus","trampoline","wlist","wstring","applicative","folder","functor","monad","monoid"],function(a,b,c,d,e,f,g,h){return window.bassline||(window.bassline={bass:a,maybe:c,either:b,trampoline:e,plus:d.plus,wlist:f.wlist,wstring:g.wstring})},"bassline",!0),c("../tools/module.js",function(){})})()